<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Main Star</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <!-- INTRO: Сцена заката → ночь -->
    <svg id="intro" viewBox="0 0 390 844" preserveAspectRatio="xMidYMid slice" role="img" aria-label="вечерний горизонт">
      <defs>
        <!-- Небо: градиент от вечера к ночи (анимируется классами) -->
        <linearGradient id="skyGrad" x1="0" y1="0" x2="0" y2="1">
          <stop id="skyTop" offset="0%" stop-color="#4f7fbc"/>
          <stop id="skyMid" offset="60%" stop-color="#9ab6e6"/>
          <stop id="skyBot" offset="100%" stop-color="#f6c38f"/>
        </linearGradient>

        <linearGradient id="duneGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#242f47" />
          <stop offset="60%" stop-color="#1a2338" />
          <stop offset="100%" stop-color="#111829" />
        </linearGradient>

        <linearGradient id="hillGrad" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0%" stop-color="#141d30" />
          <stop offset="50%" stop-color="#101828" />
          <stop offset="100%" stop-color="#0c1421" />
        </linearGradient>

        <!-- Сумеречное свечение у горизонта -->
        <linearGradient id="horizonGrad" x1="0" y1="0" x2="0" y2="1">
          <stop id="horizonTop" offset="0%" stop-color="#f9c989" stop-opacity="0.94" />
          <stop id="horizonMid" offset="50%" stop-color="#644173" stop-opacity="0.52" />
          <stop id="horizonBot" offset="100%" stop-color="#0a0e14" stop-opacity="0" />
        </linearGradient>

        <linearGradient id="groundGrad" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#0b111d" />
          <stop offset="100%" stop-color="#050b16" />
        </linearGradient>

        <!-- Солнечный диск с мягким свечением -->
        <radialGradient id="sunGrad" r="60%" cx="50%" cy="50%">
          <stop offset="0%" stop-color="#fff6c0" stop-opacity="1"/>
          <stop offset="60%" stop-color="#ffd27a" stop-opacity="0.85"/>
          <stop offset="100%" stop-color="#ff9a3c" stop-opacity="0"/>
        </radialGradient>

        <filter id="softBlur" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="3"/>
        </filter>
      </defs>

      <g id="scene">
        <!-- Небо -->
        <rect id="sky" x="0" y="0" width="100%" height="100%" fill="url(#skyGrad)"></rect>

        <!-- Солнце -->
        <g id="sunGroup">
          <circle id="sun" cx="195" cy="560" r="58" fill="url(#sunGrad)" />
        </g>

        <!-- Пара лёгких облаков -->
        <!-- Тучки -->
        <g id="clouds" fill="#fef9ff" opacity="0.95" filter="url(#softBlur)">
          <path d="M-120,250 q40,-26 90,-8 q32,-34 74,-4 q32,-30 70,-10 q50,-22 104,6 q48,30 -24,46 q-50,10 -138,12 q-110,2 -144,-14 q-70,-18 -32,-28z"/>
          <path d="M-80,320 q60,-22 108,-6 q42,-32 86,-6 q40,-28 82,-4 q60,-24 128,4 q48,28 -18,46 q-58,14 -158,14 q-130,0 -164,-16 q-80,-20 -44,-32z"/>
        </g>

        <!-- Звёзды ночного неба (постепенно проявляются) -->
        <g id="introStars" opacity="0" fill="#f7fbff">
          <circle cx="58" cy="150" r="1.3" data-base-r="1.3" />
          <circle cx="124" cy="108" r="1.7" data-base-r="1.7" />
          <circle cx="198" cy="88" r="1.2" data-base-r="1.2" />
          <circle cx="308" cy="136" r="1.5" data-base-r="1.5" />
          <circle cx="246" cy="198" r="1.3" data-base-r="1.3" />
          <circle cx="86" cy="212" r="1.6" data-base-r="1.6" />
          <circle cx="166" cy="176" r="1.35" data-base-r="1.35" />
          <circle cx="292" cy="78" r="1.2" data-base-r="1.2" />
          <circle cx="36" cy="110" r="1.05" data-base-r="1.05" />
          <circle cx="348" cy="190" r="1.3" data-base-r="1.3" />
        </g>

        <!-- Земля/горизонт -->
        <g id="ground">
          <rect x="0" y="600" width="390" height="244" fill="url(#groundGrad)"/>
          <path id="horizonGlow" d="M0,622 q72,-34 142,-20 q58,12 120,-6 q60,-18 128,26 l0,222 H0 Z" fill="url(#horizonGrad)" opacity="0.9"/>
          <!-- Дальний горизонт (силуэты холмов) -->
          <path d="M-30,644 q60,-28 120,-14 q46,12 90,2 q52,-12 106,12 q42,16 116,-2 v202 H-30 Z"
                fill="url(#duneGrad)"/>
          <path d="M-24,688 q72,-36 140,-18 q48,12 100,8 q52,-8 124,24 V844 H-24 Z" fill="url(#hillGrad)"/>
        </g>

        <!-- Текст-приглашение -->
        <text id="introText" x="50%" y="58%" text-anchor="middle" fill="#ffffff" opacity="0.9"
              style="font: 600 14px -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, Arial;">
          Смотри, как день становится ночью…
        </text>
      </g>
    </svg>

    <!-- После интро: фоновой канвас со звёздами и слой звёзд -->
    <canvas id="bg"></canvas>
    <div id="stars-layer" aria-label="звёзды"></div>

    <!-- Модалка воспоминания -->
    <div id="memory" class="hidden" role="dialog" aria-modal="true">
      <div class="memory-frame">
        <button class="close" id="closeBtn" aria-label="Закрыть">✕</button>
        <img id="memoryImg" alt="воспоминание" />
        <div class="caption" id="caption"></div>
      </div>
    </div>

    <!-- Эффекты блёсток -->
    <canvas id="fx"></canvas>

    <!-- Подсказка -->
    <div id="hint" class="hidden">Найди и коснись мерцающих звёзд ✨</div>
  </div>

  <script src="script.js"></script>
</body>
</html>
